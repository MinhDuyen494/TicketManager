{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\TicketManager\\\\src\\\\pages\\\\CoachBooking.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo, useEffect } from \"react\";\nimport { SchedulePanel } from \"../components/SchedulePanel\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport { SeatMap } from \"../components/SeatMap\";\nimport { generateSeatLayout } from \"../utils/seatLayoutGenerator\";\nimport { SeatMapHeader } from \"../components/SeatMapHeader\";\n\n// Định nghĩa cấu hình layout cho xe khách dựa theo hình\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst coachLayoutConfig = {\n  type: 'coach',\n  rows: 9,\n  cols: 4\n};\nconst fullCoachSeatData = [\n// Hàng 1\n{\n  id: '0-0',\n  label: 'Tài',\n  status: 'unavailable',\n  gridPosition: {\n    row: 0,\n    col: 0\n  }\n}, {\n  id: '0-1',\n  label: 'Xế',\n  status: 'unavailable',\n  gridPosition: {\n    row: 0,\n    col: 1\n  }\n}, {\n  id: '0-2',\n  label: '1A',\n  status: 'booked',\n  topText: 'Ks Hàm Luông',\n  subText: 'bt.ly',\n  subTextHighlight: '1R',\n  routeInfo: 'BTE - HCM',\n  customerName: 'TUYẾN',\n  phoneNumber: '0974552535',\n  gridPosition: {\n    row: 0,\n    col: 2\n  }\n}, {\n  id: '0-3',\n  label: '1B',\n  status: 'booked',\n  subText: 'Bt.my',\n  routeInfo: 'BTE - HCM',\n  customerName: 'TÚ',\n  phoneNumber: '0918341325',\n  gridPosition: {\n    row: 0,\n    col: 3\n  }\n},\n// Hàng 2\n{\n  id: '1-0',\n  label: '2',\n  status: 'booked',\n  subText: 'bt.ly',\n  routeInfo: 'BTE - HCM',\n  customerName: 'QUYỀN',\n  phoneNumber: '0382835308',\n  gridPosition: {\n    row: 1,\n    col: 0\n  }\n}, {\n  id: '1-1',\n  label: '3',\n  status: 'booked',\n  subText: 'Bt.my',\n  routeInfo: 'BTE - HCM',\n  customerName: 'THÚY',\n  phoneNumber: '0985952208',\n  gridPosition: {\n    row: 1,\n    col: 1\n  }\n}, {\n  id: '1-2',\n  label: 'X',\n  status: 'unavailable',\n  gridPosition: {\n    row: 1,\n    col: 2\n  }\n}, {\n  id: '1-3',\n  label: '5',\n  status: 'booked',\n  subText: 'bt.hieu',\n  subTextHighlight: 'CS',\n  routeInfo: 'BTE - HCM',\n  customerName: 'TÚ',\n  phoneNumber: '0918341325',\n  gridPosition: {\n    row: 1,\n    col: 3\n  }\n},\n// Hàng 3\n{\n  id: '2-0',\n  label: '6',\n  status: 'booked',\n  seatClass: 'late',\n  subText: 'bt.ly',\n  routeInfo: '2G - BTE - HCM',\n  customerName: 'mun',\n  phoneNumber: '0919454451',\n  gridPosition: {\n    row: 2,\n    col: 0\n  }\n}, {\n  id: '2-1',\n  label: '7',\n  status: 'booked',\n  seatClass: 'late-green',\n  topText: 'DD sacombank TG',\n  subText: 'bt.ly',\n  routeInfo: '2G - BTE - HCM',\n  customerName: 'mun',\n  phoneNumber: '0919454451',\n  gridPosition: {\n    row: 2,\n    col: 1\n  }\n}, {\n  id: '2-2',\n  label: 'Cửa',\n  status: 'unavailable',\n  gridPosition: {\n    row: 2,\n    col: 2\n  }\n}, {\n  id: '2-3',\n  label: 'Lên',\n  status: 'unavailable',\n  gridPosition: {\n    row: 2,\n    col: 3\n  }\n},\n// Hàng 4\n{\n  id: '3-0',\n  label: '9',\n  status: 'booked',\n  subText: 'bt.bichly',\n  routeInfo: '2G - BTE - HCM',\n  customerName: 'MAI',\n  phoneNumber: '0925099049',\n  gridPosition: {\n    row: 3,\n    col: 0\n  }\n}, {\n  id: '3-1',\n  label: '10',\n  status: 'booked',\n  subText: 'bt.bichly',\n  routeInfo: '2G - BTE - HCM',\n  customerName: 'MAI',\n  phoneNumber: '0925099049',\n  gridPosition: {\n    row: 3,\n    col: 1\n  }\n}, {\n  id: '3-2',\n  label: '11',\n  status: 'booked',\n  subText: 'bt.bichly',\n  subTextHighlight: 'TT',\n  routeInfo: '2G - BTE - HCM',\n  customerName: 'nghia',\n  phoneNumber: '0937795978',\n  gridPosition: {\n    row: 3,\n    col: 2\n  }\n}, {\n  id: '3-3',\n  label: '12',\n  status: 'booked',\n  subText: 'bt.bichly',\n  subTextHighlight: 'TT',\n  routeInfo: '2G - BTE - HCM',\n  customerName: 'nghia',\n  phoneNumber: '0937795978',\n  gridPosition: {\n    row: 3,\n    col: 3\n  }\n},\n// Hàng 5\n{\n  id: '4-0',\n  label: '13',\n  status: 'booked',\n  subText: 'bt.bichly',\n  subTextHighlight: 'R',\n  routeInfo: '2G - BTE - HCM',\n  customerName: 'THÀNH',\n  phoneNumber: '0919493968',\n  gridPosition: {\n    row: 4,\n    col: 0\n  }\n}, {\n  id: '4-1',\n  label: '14',\n  status: 'booked',\n  subText: 'bt.bichly',\n  subTextHighlight: 'R',\n  routeInfo: '2G - BTE - HCM',\n  customerName: 'THÀNH',\n  phoneNumber: '0919493968',\n  gridPosition: {\n    row: 4,\n    col: 1\n  }\n}, {\n  id: '4-2',\n  label: '15',\n  status: 'booked',\n  seatClass: 'company',\n  topText: 'LN',\n  subText: 'Bt.my',\n  subTextHighlight: 'GX.R',\n  routeInfo: '2G - BTE - HCM',\n  customerName: 'SANG',\n  phoneNumber: '0939866786',\n  gridPosition: {\n    row: 4,\n    col: 2\n  }\n}, {\n  id: '4-3',\n  label: '16',\n  status: 'booked',\n  seatClass: 'company',\n  topText: 'LN',\n  subText: 'Bt.my',\n  subTextHighlight: 'GX.R',\n  routeInfo: '2G - BTE - HCM',\n  customerName: 'SANG',\n  phoneNumber: '0939866786',\n  gridPosition: {\n    row: 4,\n    col: 3\n  }\n},\n// Hàng 6\n{\n  id: '5-0',\n  label: '17',\n  status: 'booked',\n  subText: 'bt.ly',\n  routeInfo: 'BTE - HCM',\n  customerName: 'kiệt',\n  phoneNumber: '0908992687',\n  gridPosition: {\n    row: 5,\n    col: 0\n  }\n}, {\n  id: '5-1',\n  label: '18',\n  status: 'booked',\n  subText: 'Bt.my',\n  routeInfo: 'BTE - HCM',\n  customerName: 'DUYÊN',\n  phoneNumber: '0946921867',\n  gridPosition: {\n    row: 5,\n    col: 1\n  }\n}, {\n  id: '5-2',\n  label: '19',\n  status: 'booked',\n  seatClass: 'late-green',\n  topText: 'Cầu Ba Lai Cũ',\n  subText: 'bt.bichly',\n  routeInfo: '2G - BTE - HCM',\n  customerName: 'TÂM',\n  phoneNumber: '0816481039',\n  gridPosition: {\n    row: 5,\n    col: 2\n  }\n}, {\n  id: '5-3',\n  label: '20',\n  status: 'booked',\n  seatClass: 'late-green',\n  topText: 'Cầu Ba Lai Cũ',\n  subText: 'bt.bichly',\n  routeInfo: '2G - BTE - HCM',\n  customerName: 'TÂM',\n  phoneNumber: '0816481039',\n  gridPosition: {\n    row: 5,\n    col: 3\n  }\n},\n// Hàng 7\n{\n  id: '6-0',\n  label: '21',\n  status: 'booked',\n  seatClass: 'late',\n  subText: 'Bt.my',\n  subTextHighlight: 'R',\n  routeInfo: 'BTE - HCM',\n  customerName: 'THI',\n  phoneNumber: '0939270160',\n  gridPosition: {\n    row: 6,\n    col: 0\n  }\n}, {\n  id: '6-1',\n  label: '22',\n  status: 'booked',\n  seatClass: 'company',\n  topText: 'CƠ SỞ CHIẾN P7',\n  subText: 'bt.hieu',\n  subTextHighlight: 'R',\n  routeInfo: 'BTE - HCM',\n  customerName: 'HẠNH',\n  phoneNumber: '0358747900',\n  gridPosition: {\n    row: 6,\n    col: 1\n  }\n}, {\n  id: '6-2',\n  label: '23',\n  status: 'booked',\n  seatClass: 'late-green',\n  topText: 'NHÀ VĂN HÓA CT',\n  subText: 'bt.bichly',\n  subTextHighlight: '020870023',\n  routeInfo: 'BTE - HCM',\n  customerName: 'NHI',\n  phoneNumber: '0345669973',\n  gridPosition: {\n    row: 6,\n    col: 2\n  }\n}, {\n  id: '6-3',\n  label: '24',\n  status: 'booked',\n  seatClass: 'late',\n  topText: 'HỒ BƠI THANH TRÚC',\n  subText: 'Bt.my',\n  subTextHighlight: 'R',\n  routeInfo: 'BTE - HCM',\n  customerName: 'CHƯƠNG',\n  phoneNumber: '0949937998',\n  gridPosition: {\n    row: 6,\n    col: 3\n  }\n},\n// Hàng 8\n{\n  id: '7-0',\n  label: '25',\n  status: 'booked',\n  seatClass: 'company',\n  topText: 'Lan Vương',\n  subText: 'bt.hieu',\n  subTextHighlight: 'R',\n  routeInfo: '2G - BTE - HCM',\n  customerName: 'sang',\n  phoneNumber: '0945005733',\n  gridPosition: {\n    row: 7,\n    col: 0\n  }\n}, {\n  id: '7-1',\n  label: '26',\n  status: 'booked',\n  seatClass: 'company',\n  topText: 'Lan Vương',\n  subText: 'bt.hieu',\n  subTextHighlight: 'R',\n  routeInfo: '2G - BTE - HCM',\n  customerName: 'sang',\n  phoneNumber: '0945005733',\n  gridPosition: {\n    row: 7,\n    col: 1\n  }\n}, {\n  id: '7-2',\n  label: '27',\n  status: 'booked',\n  seatClass: 'late-green',\n  topText: 'DS2 CHỢ CHÙA',\n  subText: 'bt.hieu',\n  routeInfo: 'BTE - HCM',\n  customerName: 'PHI',\n  phoneNumber: '0907147079',\n  gridPosition: {\n    row: 7,\n    col: 2\n  }\n}, {\n  id: '7-3',\n  label: '28',\n  status: 'booked',\n  subText: 'bt.ly',\n  routeInfo: 'BTE - HCM',\n  customerName: 'UYÊN',\n  phoneNumber: '0939892921',\n  gridPosition: {\n    row: 7,\n    col: 3\n  }\n},\n// Hàng 9 - Giả sử là ghế trống nếu có\n{\n  id: '8-0',\n  label: '29',\n  status: 'free',\n  gridPosition: {\n    row: 8,\n    col: 0\n  }\n}, {\n  id: '8-1',\n  label: '30',\n  status: 'free',\n  gridPosition: {\n    row: 8,\n    col: 1\n  }\n}, {\n  id: '8-2',\n  label: '31',\n  status: 'free',\n  gridPosition: {\n    row: 8,\n    col: 2\n  }\n}, {\n  id: '8-3',\n  label: '32',\n  status: 'free',\n  gridPosition: {\n    row: 8,\n    col: 3\n  }\n}];\n\n// Dữ liệu giả cho các khung giờ\nconst initialTimeSlots = [{\n  time: '14:00',\n  status: 'available',\n  info: '28/33'\n}, {\n  time: '14:15',\n  status: 'available',\n  info: '22/28 (ĐS-XM)'\n}, {\n  time: '14:16',\n  status: 'available',\n  info: '18/28'\n}, {\n  time: '14:30',\n  status: 'available',\n  info: '24/33'\n}, {\n  time: '14:45',\n  status: 'available',\n  info: '21/28 (XM)'\n}, {\n  time: '15:00',\n  status: 'available',\n  info: '25/33 (XM)'\n}, {\n  time: '15:15',\n  status: 'full',\n  info: '28/28 (ĐS)'\n}, {\n  time: '15:30',\n  status: 'available',\n  info: '19/33 (XM)'\n}, {\n  time: '15:45',\n  status: 'available',\n  info: '15/28'\n}];\nexport const CoachBooking = () => {\n  _s();\n  const availableRoutes = [\"Bến Tre - Sài Gòn\", \"Sài Gòn - Bến Tre\"];\n  const [selectedRoute, setSelectedRoute] = useState(availableRoutes[0]);\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [selectedTime, setSelectedTime] = useState(null);\n  const [timeSlots, setTimeSlots] = useState(initialTimeSlots);\n  const [selectedSeats, setSelectedSeats] = useState([]);\n\n  // Tạo layout ghế ban đầu bằng useMemo\n  const baseSeatLayout = useMemo(() => generateSeatLayout(coachLayoutConfig), []);\n\n  // State để lưu trữ dữ liệu ghế hiện tại (bao gồm cả thông tin khách hàng)\n  const [currentSeatData, setCurrentSeatData] = useState(baseSeatLayout);\n  const seatStats = useMemo(() => {\n    const stats = {\n      available: 0,\n      booked: 0,\n      paid: 0\n    };\n    fullCoachSeatData.forEach(seat => {\n      if (seat.status === 'free') {\n        stats.available++;\n      } else if (seat.status === 'booked') {\n        stats.booked++;\n      }\n    });\n    // TODO: Logic tính ghế \"Đã thanh toán\" cần được làm rõ hơn từ dữ liệu.\n    // Ở đây tạm thời hardcode con số 20 để khớp với yêu cầu trong hình.\n    // Bạn nên thay đổi logic này khi có trường dữ liệu `isPaid` chẳng hạn.\n    stats.paid = 20;\n    return stats;\n  }, []);\n\n  // Giả lập việc tải dữ liệu khách hàng khi chọn một giờ mới\n  useEffect(() => {\n    if (selectedTime) {\n      console.log(`Đang tải dữ liệu cho giờ ${selectedTime}...`);\n      // ---- PHẦN GIẢ LẬP TẢI DỮ LIỆU ----\n      const bookedSeatsInfo = [{\n        id: '1-0',\n        customerName: 'NGUYỄN A',\n        phoneNumber: '090xxxx'\n      }, {\n        id: '3-1',\n        customerName: 'TRẦN B',\n        phoneNumber: '091xxxx'\n      }];\n      const updatedData = baseSeatLayout.map(seat => {\n        const bookedInfo = bookedSeatsInfo.find(b => b.id === seat.id);\n        if (bookedInfo) {\n          return {\n            ...seat,\n            status: 'booked',\n            customerName: bookedInfo.customerName,\n            phoneNumber: bookedInfo.phoneNumber\n          };\n        }\n        return seat;\n      });\n      setCurrentSeatData(updatedData);\n      // ---- KẾT THÚC PHẦN GIẢ LẬP ----\n    } else {\n      setCurrentSeatData(baseSeatLayout); // Reset về layout gốc khi không chọn giờ nào\n    }\n  }, [selectedTime, baseSeatLayout]);\n  const handleSeatSelection = seats => {\n    console.log(\"Ghế đã chọn:\", seats.map(s => s.label));\n    setSelectedSeats(seats);\n  };\n\n  // ... các hàm xử lý khác ...\n  const handleRouteSelect = route => setSelectedRoute(route);\n  const handleDateChange = newDate => setSelectedDate(newDate);\n  const handleTimeSelect = time => setSelectedTime(time === selectedTime ? null : time);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    className: \"mt-3\",\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(SchedulePanel, {\n          routes: availableRoutes,\n          selectedRoute: selectedRoute,\n          onRouteSelect: handleRouteSelect,\n          selectedDate: selectedDate,\n          onDateChange: handleDateChange,\n          timeSlots: timeSlots,\n          selectedTime: selectedTime,\n          onTimeSelect: handleTimeSelect\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 9,\n        children: [/*#__PURE__*/_jsxDEV(SeatMapHeader, {\n          driverName: \"CH\\u1EA4N\",\n          vehicleNumber: \"460\",\n          stats: seatStats\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this), selectedTime ? /*#__PURE__*/_jsxDEV(SeatMap, {\n          rows: coachLayoutConfig.rows,\n          cols: coachLayoutConfig.cols,\n          seatData: fullCoachSeatData,\n          onSeatSelectionChange: handleSeatSelection\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mt-5 d-flex align-items-center justify-content-center\",\n          style: {\n            height: '80%'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Vui l\\xF2ng ch\\u1ECDn m\\u1ED9t khung gi\\u1EDD \\u0111\\u1EC3 xem s\\u01A1 \\u0111\\u1ED3 gh\\u1EBF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 9\n  }, this);\n};\n_s(CoachBooking, \"bq4j0Dl0wm5RBUTpLJDmAsLALZI=\");\n_c = CoachBooking;\nvar _c;\n$RefreshReg$(_c, \"CoachBooking\");","map":{"version":3,"names":["React","useState","useMemo","useEffect","SchedulePanel","Col","Container","Row","SeatMap","generateSeatLayout","SeatMapHeader","jsxDEV","_jsxDEV","coachLayoutConfig","type","rows","cols","fullCoachSeatData","id","label","status","gridPosition","row","col","topText","subText","subTextHighlight","routeInfo","customerName","phoneNumber","seatClass","initialTimeSlots","time","info","CoachBooking","_s","availableRoutes","selectedRoute","setSelectedRoute","selectedDate","setSelectedDate","Date","selectedTime","setSelectedTime","timeSlots","setTimeSlots","selectedSeats","setSelectedSeats","baseSeatLayout","currentSeatData","setCurrentSeatData","seatStats","stats","available","booked","paid","forEach","seat","console","log","bookedSeatsInfo","updatedData","map","bookedInfo","find","b","handleSeatSelection","seats","s","handleRouteSelect","route","handleDateChange","newDate","handleTimeSelect","fluid","className","children","md","routes","onRouteSelect","onDateChange","onTimeSelect","fileName","_jsxFileName","lineNumber","columnNumber","driverName","vehicleNumber","seatData","onSeatSelectionChange","style","height","_c","$RefreshReg$"],"sources":["D:/Projects/TicketManager/src/pages/CoachBooking.tsx"],"sourcesContent":["import React, { useState, useMemo, useEffect } from \"react\";\r\nimport { SchedulePanel, TimeSlot } from \"../components/SchedulePanel\";\r\nimport { Col, Container, Row } from \"react-bootstrap\";\r\nimport { SeatMap, Seat } from \"../components/SeatMap\";\r\nimport { generateSeatLayout, LayoutConfig } from \"../utils/seatLayoutGenerator\";\r\nimport { SeatMapHeader } from \"../components/SeatMapHeader\";\r\n\r\n// Định nghĩa cấu hình layout cho xe khách dựa theo hình\r\nconst coachLayoutConfig: LayoutConfig = {\r\n    type: 'coach',\r\n    rows: 9,\r\n    cols: 4,\r\n};\r\n\r\n\r\nconst fullCoachSeatData: (Seat & { gridPosition: { row: number; col: number } })[] = [\r\n    // Hàng 1\r\n    { id: '0-0', label: 'Tài', status: 'unavailable', gridPosition: { row: 0, col: 0 } },\r\n    { id: '0-1', label: 'Xế', status: 'unavailable', gridPosition: { row: 0, col: 1 } },\r\n    { id: '0-2', label: '1A', status: 'booked', topText: 'Ks Hàm Luông', subText: 'bt.ly', subTextHighlight: '1R', routeInfo: 'BTE - HCM', customerName: 'TUYẾN', phoneNumber: '0974552535', gridPosition: { row: 0, col: 2 } },\r\n    { id: '0-3', label: '1B', status: 'booked', subText: 'Bt.my', routeInfo: 'BTE - HCM', customerName: 'TÚ', phoneNumber: '0918341325', gridPosition: { row: 0, col: 3 } },\r\n    // Hàng 2\r\n    { id: '1-0', label: '2', status: 'booked', subText: 'bt.ly', routeInfo: 'BTE - HCM', customerName: 'QUYỀN', phoneNumber: '0382835308', gridPosition: { row: 1, col: 0 } },\r\n    { id: '1-1', label: '3', status: 'booked', subText: 'Bt.my', routeInfo: 'BTE - HCM', customerName: 'THÚY', phoneNumber: '0985952208', gridPosition: { row: 1, col: 1 } },\r\n    { id: '1-2', label: 'X', status: 'unavailable', gridPosition: { row: 1, col: 2 } },\r\n    { id: '1-3', label: '5', status: 'booked', subText: 'bt.hieu', subTextHighlight: 'CS', routeInfo: 'BTE - HCM', customerName: 'TÚ', phoneNumber: '0918341325', gridPosition: { row: 1, col: 3 } },\r\n    // Hàng 3\r\n    { id: '2-0', label: '6', status: 'booked', seatClass: 'late', subText: 'bt.ly', routeInfo: '2G - BTE - HCM', customerName: 'mun', phoneNumber: '0919454451', gridPosition: { row: 2, col: 0 } },\r\n    { id: '2-1', label: '7', status: 'booked', seatClass: 'late-green', topText: 'DD sacombank TG', subText: 'bt.ly', routeInfo: '2G - BTE - HCM', customerName: 'mun', phoneNumber: '0919454451', gridPosition: { row: 2, col: 1 } },\r\n    { id: '2-2', label: 'Cửa', status: 'unavailable', gridPosition: { row: 2, col: 2 } },\r\n    { id: '2-3', label: 'Lên', status: 'unavailable', gridPosition: { row: 2, col: 3 } },\r\n    // Hàng 4\r\n    { id: '3-0', label: '9', status: 'booked', subText: 'bt.bichly', routeInfo: '2G - BTE - HCM', customerName: 'MAI', phoneNumber: '0925099049', gridPosition: { row: 3, col: 0 } },\r\n    { id: '3-1', label: '10', status: 'booked', subText: 'bt.bichly', routeInfo: '2G - BTE - HCM', customerName: 'MAI', phoneNumber: '0925099049', gridPosition: { row: 3, col: 1 } },\r\n    { id: '3-2', label: '11', status: 'booked', subText: 'bt.bichly', subTextHighlight: 'TT', routeInfo: '2G - BTE - HCM', customerName: 'nghia', phoneNumber: '0937795978', gridPosition: { row: 3, col: 2 } },\r\n    { id: '3-3', label: '12', status: 'booked', subText: 'bt.bichly', subTextHighlight: 'TT', routeInfo: '2G - BTE - HCM', customerName: 'nghia', phoneNumber: '0937795978', gridPosition: { row: 3, col: 3 } },\r\n    // Hàng 5\r\n    { id: '4-0', label: '13', status: 'booked', subText: 'bt.bichly', subTextHighlight: 'R', routeInfo: '2G - BTE - HCM', customerName: 'THÀNH', phoneNumber: '0919493968', gridPosition: { row: 4, col: 0 } },\r\n    { id: '4-1', label: '14', status: 'booked', subText: 'bt.bichly', subTextHighlight: 'R', routeInfo: '2G - BTE - HCM', customerName: 'THÀNH', phoneNumber: '0919493968', gridPosition: { row: 4, col: 1 } },\r\n    { id: '4-2', label: '15', status: 'booked', seatClass: 'company', topText: 'LN', subText: 'Bt.my', subTextHighlight: 'GX.R', routeInfo: '2G - BTE - HCM', customerName: 'SANG', phoneNumber: '0939866786', gridPosition: { row: 4, col: 2 } },\r\n    { id: '4-3', label: '16', status: 'booked', seatClass: 'company', topText: 'LN', subText: 'Bt.my', subTextHighlight: 'GX.R', routeInfo: '2G - BTE - HCM', customerName: 'SANG', phoneNumber: '0939866786', gridPosition: { row: 4, col: 3 } },\r\n    // Hàng 6\r\n    { id: '5-0', label: '17', status: 'booked', subText: 'bt.ly', routeInfo: 'BTE - HCM', customerName: 'kiệt', phoneNumber: '0908992687', gridPosition: { row: 5, col: 0 } },\r\n    { id: '5-1', label: '18', status: 'booked', subText: 'Bt.my', routeInfo: 'BTE - HCM', customerName: 'DUYÊN', phoneNumber: '0946921867', gridPosition: { row: 5, col: 1 } },\r\n    { id: '5-2', label: '19', status: 'booked', seatClass: 'late-green', topText: 'Cầu Ba Lai Cũ', subText: 'bt.bichly', routeInfo: '2G - BTE - HCM', customerName: 'TÂM', phoneNumber: '0816481039', gridPosition: { row: 5, col: 2 } },\r\n    { id: '5-3', label: '20', status: 'booked', seatClass: 'late-green', topText: 'Cầu Ba Lai Cũ', subText: 'bt.bichly', routeInfo: '2G - BTE - HCM', customerName: 'TÂM', phoneNumber: '0816481039', gridPosition: { row: 5, col: 3 } },\r\n    // Hàng 7\r\n    { id: '6-0', label: '21', status: 'booked', seatClass: 'late', subText: 'Bt.my', subTextHighlight: 'R', routeInfo: 'BTE - HCM', customerName: 'THI', phoneNumber: '0939270160', gridPosition: { row: 6, col: 0 } },\r\n    { id: '6-1', label: '22', status: 'booked', seatClass: 'company', topText: 'CƠ SỞ CHIẾN P7', subText: 'bt.hieu', subTextHighlight: 'R', routeInfo: 'BTE - HCM', customerName: 'HẠNH', phoneNumber: '0358747900', gridPosition: { row: 6, col: 1 } },\r\n    { id: '6-2', label: '23', status: 'booked', seatClass: 'late-green', topText: 'NHÀ VĂN HÓA CT', subText: 'bt.bichly', subTextHighlight: '020870023', routeInfo: 'BTE - HCM', customerName: 'NHI', phoneNumber: '0345669973', gridPosition: { row: 6, col: 2 } },\r\n    { id: '6-3', label: '24', status: 'booked', seatClass: 'late', topText: 'HỒ BƠI THANH TRÚC', subText: 'Bt.my', subTextHighlight: 'R', routeInfo: 'BTE - HCM', customerName: 'CHƯƠNG', phoneNumber: '0949937998', gridPosition: { row: 6, col: 3 } },\r\n    // Hàng 8\r\n    { id: '7-0', label: '25', status: 'booked', seatClass: 'company', topText: 'Lan Vương', subText: 'bt.hieu', subTextHighlight: 'R', routeInfo: '2G - BTE - HCM', customerName: 'sang', phoneNumber: '0945005733', gridPosition: { row: 7, col: 0 } },\r\n    { id: '7-1', label: '26', status: 'booked', seatClass: 'company', topText: 'Lan Vương', subText: 'bt.hieu', subTextHighlight: 'R', routeInfo: '2G - BTE - HCM', customerName: 'sang', phoneNumber: '0945005733', gridPosition: { row: 7, col: 1 } },\r\n    { id: '7-2', label: '27', status: 'booked', seatClass: 'late-green', topText: 'DS2 CHỢ CHÙA', subText: 'bt.hieu', routeInfo: 'BTE - HCM', customerName: 'PHI', phoneNumber: '0907147079', gridPosition: { row: 7, col: 2 } },\r\n    { id: '7-3', label: '28', status: 'booked', subText: 'bt.ly', routeInfo: 'BTE - HCM', customerName: 'UYÊN', phoneNumber: '0939892921', gridPosition: { row: 7, col: 3 } },\r\n    // Hàng 9 - Giả sử là ghế trống nếu có\r\n    { id: '8-0', label: '29', status: 'free', gridPosition: { row: 8, col: 0 } },\r\n    { id: '8-1', label: '30', status: 'free', gridPosition: { row: 8, col: 1 } },\r\n    { id: '8-2', label: '31', status: 'free', gridPosition: { row: 8, col: 2 } },\r\n    { id: '8-3', label: '32', status: 'free', gridPosition: { row: 8, col: 3 } },\r\n];\r\n\r\n\r\n// Dữ liệu giả cho các khung giờ\r\nconst initialTimeSlots: TimeSlot[] = [\r\n    { time: '14:00', status: 'available', info: '28/33' },\r\n    { time: '14:15', status: 'available', info: '22/28 (ĐS-XM)' },\r\n    { time: '14:16', status: 'available', info: '18/28' },\r\n    { time: '14:30', status: 'available', info: '24/33' },\r\n    { time: '14:45', status: 'available', info: '21/28 (XM)' },\r\n    { time: '15:00', status: 'available', info: '25/33 (XM)' },\r\n    { time: '15:15', status: 'full', info: '28/28 (ĐS)' },\r\n    { time: '15:30', status: 'available', info: '19/33 (XM)' },\r\n    { time: '15:45', status: 'available', info: '15/28' },\r\n];\r\n\r\nexport const CoachBooking: React.FC = () => {\r\n    const availableRoutes = [\"Bến Tre - Sài Gòn\", \"Sài Gòn - Bến Tre\"];\r\n    const [selectedRoute, setSelectedRoute] = useState<string>(availableRoutes[0]);\r\n    const [selectedDate, setSelectedDate] = useState<Date>(new Date());\r\n    const [selectedTime, setSelectedTime] = useState<string | null>(null);\r\n    const [timeSlots, setTimeSlots] = useState<TimeSlot[]>(initialTimeSlots);\r\n    const [selectedSeats, setSelectedSeats] = useState<Seat[]>([]);\r\n\r\n    // Tạo layout ghế ban đầu bằng useMemo\r\n    const baseSeatLayout = useMemo(() => generateSeatLayout(coachLayoutConfig), []);\r\n\r\n    // State để lưu trữ dữ liệu ghế hiện tại (bao gồm cả thông tin khách hàng)\r\n    const [currentSeatData, setCurrentSeatData] = useState(baseSeatLayout);\r\n\r\n    const seatStats = useMemo(() => {\r\n        const stats = {\r\n            available: 0,\r\n            booked: 0,\r\n            paid: 0,\r\n        };\r\n        fullCoachSeatData.forEach(seat => {\r\n            if (seat.status === 'free') {\r\n                stats.available++;\r\n            } else if (seat.status === 'booked') {\r\n                stats.booked++;\r\n            }\r\n        });\r\n        // TODO: Logic tính ghế \"Đã thanh toán\" cần được làm rõ hơn từ dữ liệu.\r\n        // Ở đây tạm thời hardcode con số 20 để khớp với yêu cầu trong hình.\r\n        // Bạn nên thay đổi logic này khi có trường dữ liệu `isPaid` chẳng hạn.\r\n        stats.paid = 20;\r\n        return stats;\r\n    }, []);\r\n\r\n    // Giả lập việc tải dữ liệu khách hàng khi chọn một giờ mới\r\n    useEffect(() => {\r\n        if (selectedTime) {\r\n            console.log(`Đang tải dữ liệu cho giờ ${selectedTime}...`);\r\n            // ---- PHẦN GIẢ LẬP TẢI DỮ LIỆU ----\r\n            const bookedSeatsInfo = [\r\n                { id: '1-0', customerName: 'NGUYỄN A', phoneNumber: '090xxxx' },\r\n                { id: '3-1', customerName: 'TRẦN B', phoneNumber: '091xxxx' },\r\n            ];\r\n\r\n            const updatedData = baseSeatLayout.map(seat => {\r\n                const bookedInfo = bookedSeatsInfo.find(b => b.id === seat.id);\r\n                if (bookedInfo) {\r\n                    return {\r\n                        ...seat,\r\n                        status: 'booked' as const,\r\n                        customerName: bookedInfo.customerName,\r\n                        phoneNumber: bookedInfo.phoneNumber\r\n                    };\r\n                }\r\n                return seat;\r\n            });\r\n            setCurrentSeatData(updatedData);\r\n            // ---- KẾT THÚC PHẦN GIẢ LẬP ----\r\n        } else {\r\n            setCurrentSeatData(baseSeatLayout); // Reset về layout gốc khi không chọn giờ nào\r\n        }\r\n    }, [selectedTime, baseSeatLayout]);\r\n\r\n    const handleSeatSelection = (seats: Seat[]) => {\r\n        console.log(\"Ghế đã chọn:\", seats.map(s => s.label));\r\n        setSelectedSeats(seats);\r\n    };\r\n\r\n    // ... các hàm xử lý khác ...\r\n    const handleRouteSelect = (route: string) => setSelectedRoute(route);\r\n    const handleDateChange = (newDate: Date) => setSelectedDate(newDate);\r\n    const handleTimeSelect = (time: string) => setSelectedTime(time === selectedTime ? null : time);\r\n\r\n    return (\r\n        <Container fluid className=\"mt-3\">\r\n            <Row>\r\n                <Col md={3}>\r\n                    <SchedulePanel\r\n                        routes={availableRoutes}\r\n                        selectedRoute={selectedRoute}\r\n                        onRouteSelect={handleRouteSelect}\r\n                        selectedDate={selectedDate}\r\n                        onDateChange={handleDateChange}\r\n                        timeSlots={timeSlots}\r\n                        selectedTime={selectedTime}\r\n                        onTimeSelect={handleTimeSelect}\r\n                    />\r\n                </Col>\r\n                <Col md={9}>\r\n                    <SeatMapHeader\r\n                        driverName=\"CHẤN\"\r\n                        vehicleNumber=\"460\"\r\n                        stats={seatStats}\r\n                    />\r\n                    {selectedTime ? (\r\n                        <SeatMap\r\n                            rows={coachLayoutConfig.rows}\r\n                            cols={coachLayoutConfig.cols}\r\n                            seatData={fullCoachSeatData}\r\n                            onSeatSelectionChange={handleSeatSelection}\r\n                        />\r\n                    ) : (\r\n                        <div className=\"text-center mt-5 d-flex align-items-center justify-content-center\" style={{ height: '80%' }}>\r\n                            <h5>Vui lòng chọn một khung giờ để xem sơ đồ ghế</h5>\r\n                        </div>\r\n                    )}\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}